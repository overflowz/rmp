{"version":3,"file":"index.js","sources":["../src/core/interface.ts","../src/utils/tryCatch.ts","../src/core/rmp.ts"],"sourcesContent":[null,null,null],"names":["PacketType","TryCatchError","Error","[object Object]","message","origin","super","this","name","captureStackTrace","err","tryCatch","fn","res","then","catch","from","DEBUG_NS","ULID","monotonicFactory","channel","adapter","Subject","subClient","onMessage","bind","subscribeTo","instance","channelsUniq","Set","Promise","all","map","subscribe","d","debug","packet","JSON","parse","type","headers","correlationId","Request","responseChannel","Broadcast","messageStream$","next","pipe","filter","request","payload","Response","publish","pubClient","stringify","reject","resolve","timeoutMs","sendMessage$","defer","async","combineLatest","getMessageStream","timeoutWith","throwError","first","toPromise","callback","onRequestCallback","mergeMap","req","of","reply","onBroadcastCallback","f","tap"],"mappings":"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"}